{"version":3,"file":"/js/app.js","mappings":"uBAAIA,E,YCAJ,IAAMC,EACG,CACDC,KAAM,kBACNC,OAAQ,oBACRC,MAAO,CACHC,KAAM,qBACNC,QAAS,yBAEbC,OAAQ,CACJC,MAAO,sBATbP,EAYK,CACHE,OAAQ,gBACRD,KAAM,cACNO,SAAU,mBACVC,OAAQ,CACJC,QAAS,2BAEbC,QAAS,CACLD,QAAS,6BAEbE,eAAgB,2BCtBlBC,EAUK,eCVLC,EACM,SAAUC,EAAKC,GAEnB,OADAA,EAAKC,OAAO,UAAW,OAChBC,EAAEC,KAAK,CACVJ,IAAKA,EACLK,OAAQ,OACRC,SAAU,OACVC,aAAa,EACbC,aAAa,EACbP,KAAMA,GAEd,EAXEF,EAaM,SAAUC,GACd,OAAOG,EAAEC,KAAK,CACVJ,IAAKA,EACLK,OAAQ,SACRC,SAAU,QAElB,ECfJ,SAASG,EAAUC,GAEf,IAAIC,EAAe,CAAC,EAChBC,EAAcF,EAQlB,OANAP,EAAEU,OAAOF,EAAcA,EAAcG,OAAOH,cAExCA,EAAaI,eAAeL,KAC5BE,EAAcD,EAAaD,IAGxBE,CACX,CCZA,IAAMI,EAAc,SAAUC,GAC1BA,EAAEC,iBACFD,EAAEE,2BAEF,IAAMC,EAASjB,EAAElB,EAAe,QAASG,MAAM,QACzCY,EAAMG,EAAEc,EAAEI,QAAQC,QAAQ,KAAKC,KAAK,QAE1CH,EAAOI,KAAKvC,EAAgBW,QAAQD,SAAS8B,KAAK,IAAIC,OACtDN,EAAOI,KAAKvC,EAAgBS,OAAOC,SAAS8B,KAAK,IAAIC,OAErDN,EAAOI,KAAK,yBAAyBG,IAAI,SAASC,GAAG,SAAS,SAAUC,GACpE9B,EAAYC,GACP8B,MAAK,SAAUC,GACZX,EAAOI,KAAKvC,EAAgBW,QAAQD,SAAS8B,KAAKM,EAASC,SAASC,OACpEb,EAAOhC,MAAM,QACb0B,OAAOoB,SAASC,QACpB,IACCC,MAAK,SAAUL,GACZ,IAAIM,EAAa,GACjB,GAAIN,EAAShB,eAAe,gBACxB,GAAIgB,EAASO,aAAavB,eAAe,UAAW,CAChD,IAAIrB,EAASqC,EAASO,aAAa5C,OACnC,IAAK,IAAI6C,KAAQ7C,EACTA,EAAOqB,eAAewB,KACtBF,GAAc,QAAU3C,EAAO6C,GAAQ,SAGnD,MACIF,EADON,EAASO,aAAavB,eAAe,WAC/BgB,EAASO,aAAaN,QAEtBvB,EAAU,sBAIvB4B,EADAlC,EAAEqC,UAAUT,EAASU,cACRtC,EAAEqC,UAAUT,EAASU,cAAcC,aAEnCjC,EAAU,iBAG/BW,EAAOI,KAAKvC,EAAgBS,OAAOC,SAAS8B,KAAKY,GAAYJ,MACjE,GACR,GACJ,EC5CMU,EAAwBlC,EAAU,aAClCmC,EAAoB,CACtBC,YAAY,EACZC,YAAY,EACZC,OAAQ,CACJC,SAAU,KACVC,OAAQ,MAEZC,eAAgB,GAChBC,SAAU,CACNC,YAAaT,EAAmC,YAChDU,MAAOV,EAA6B,MACpCW,WAAYX,EAAkC,WAC9CY,cAAeZ,EAAqC,cACpDa,aAAcb,EAAoC,aAClDc,eAAgBd,EAAsC,eACtDe,YAAaf,EAAmC,YAChDgB,gBAAiBhB,EAAuC,gBACxDiB,YAAajB,EAAmC,YAChDkB,QAASlB,EAA+B,QACxCmB,aAAcnB,EAAoC,aAClDoB,UAAW,CACPC,OAAQrB,EAA8B,OACtCsB,MAAOtB,EAA6B,MACpCuB,MAAOvB,EAA6B,MACpCwB,UAAWxB,EAAiC,aCrBlDyB,EAAkB,SAAUjE,GAuD9B,MAAO,CACHkE,KANJ,WA/CIlE,EAAEmE,UAAU1C,GAAG,QAAS3C,EAAa,OAAS+B,GA0C9Cb,EAAEL,GAAgByE,UAAUpE,EAAEU,OAAO,CAAC,EAAG+B,EAxC1B,CACXxC,KAAM,kBACNoE,QAAS,CAAC,CACFvE,KAAM,YACNwE,KAAM,aACNC,YAAY,EACZC,WAAW,GAEf,CACI1E,KAAM,WACNwE,KAAM,YACNC,YAAY,EACZC,WAAW,GAEf,CACI1E,KAAM,QACNwE,KAAM,QACNC,YAAY,EACZC,WAAW,GAEf,CACI1E,KAAM,YACNwE,KAAM,aACNE,WAAW,GAEf,CACI1E,KAAM,KACNwE,KAAM,UACNE,WAAW,EACXD,YAAY,EACZE,OAAQ,SAAS3E,EAAM4E,EAAMC,GACzB,MAAO,iDAAPC,OACsB9E,EAAI,uHAAA8E,OACJ9E,EAAI,6GAE9B,OAMZ+E,QAAQC,IAAInE,OAAOH,aAOvB,EAKJ,CA1DwB,CA0DrBuE,QChEGpF,EACU,CACRqF,UAAW,eCIbC,EAAiB,SAACnE,GACpBA,EAAEC,iBAEF,IAAME,EAASjB,EAAElB,EAAgBC,MAAME,MAAM,QACvCiG,EAAelF,EAAEc,EAAEI,QAAQpB,KAAK,MAEhCD,EAAMG,EAAEc,EAAEI,QAAQE,KAAK,QAC7BH,EAAOI,KAAKvC,EAAgBW,QAAQD,SAAS8B,KAAK,IAAIC,OACtDN,EAAOI,KAAKvC,EAAgBS,OAAOC,SAAS8B,KAAK,IAAIC,OACrD4D,IAAIC,QAAQC,WAAWC,cAAczF,GAAK8B,MAAK,SAAUC,GAErDX,EAAOI,KAAKvC,EAAgBY,gBAAgB4B,KAAKM,EAASN,MAE1DL,EAAOI,KAAKvC,EAAcG,MAAME,SAASqC,IAAI,SAASC,GAAG,QAAS,CAC9D5B,IAAK,gBAAkBqF,EACvBjG,MAAOgC,GACRsE,EAEP,GAEJ,EAEMA,EAAoB,SAACzE,GAEvB,IAAIkE,EAAYhF,EAAEL,EAAoBqF,WAAWQ,MAE7CvE,EAASH,EAAEhB,KAAKb,MAChBa,EAAO,IAAI2F,SACf3F,EAAKC,OAAO,aAAciF,GAE1BpF,EAAYkB,EAAEhB,KAAKD,IAAKC,GACnB6B,MAAK,SAAUC,GACZX,EAAOI,KAAKvC,EAAgBW,QAAQD,SAAS8B,KAAKM,EAASC,SAASC,OACpE4D,YAAW,WACPzE,EAAOhC,MAAM,QACb0B,OAAOoB,SAASC,QACpB,GAAG,IACP,IACCC,MAAK,SAAC0D,GACH,IAAM/D,EAAW+D,EAAMxD,aACvB,GAAIP,EAASW,aACTtB,EAAOI,KAAKvC,EAAgBS,OAAOC,SAAS8B,KAAKM,EAASW,cAAcT,YACrE,GAAIF,EAASrC,OAAQ,CACxB,IAAIA,EAASqC,EAASrC,OACtB,IAAK,IAAI6C,KAAQ7C,EACb,GAAIA,EAAOqB,eAAewB,GAAO,CAC7B,IAAIwD,EAAY,6BAA+BrG,EAAO6C,GAAQ,SAC9DnB,EAAOI,KAAKvC,EAAgBS,OAAOC,SAAS8B,KAAKsE,GAAW9D,MAChE,CAER,MACIb,EAAOI,KAAKvC,EAAgBS,OAAOC,SAAS8B,KAAKhB,EAAU,kBAAkBwB,MAErF,GAER,ECzDM+D,EAAwB,SAAU7F,GAWpC,MAAO,CACHkE,KALJ,WAJIlE,EAAEmE,UAAU1C,GAAG,QAAS3C,EAAa,OAAS+B,GAC9Cb,EAAEmE,UAAU1C,GAAG,QAAS3C,EAAcC,KAAM+G,EAKhD,EAKJ,CAd8B,CAc3Bf,QClBGgB,EAAoB,CAEtBT,cAAe,SAAUzF,GACrB,OAAOG,EAAEC,KAAK,CACV+F,OAAO,EACPnG,IAAKA,EACLK,OAAQ,MACR+F,MAAO,SAAUrE,GACb,GAGZ,GCXEjC,EACG,CACDuG,YAAa,oBAFfvG,EAKM,WCHNwG,EAAqB,SAAUnG,GAuCjC,MAAO,CACHkE,KAnCJ,WACI,IAAIkC,EAASpG,EAAEL,GAAiB6F,MACRxF,EAAEL,EAAauG,aAAaG,QAAQ,CACxDpG,KAAM,CACFJ,IAAK,cAAF+E,OAAgBwB,EAAM,gBACzB1B,KAAM,MACNvE,SAAU,OACVmG,MAAO,IACPxG,KAAM,SAAUyG,GAMZ,MALY,CACRC,OAAQD,EAAOE,KACfC,KAAMH,EAAOG,MAAQ,EAI7B,EACAC,eAAgB,SAAU7G,EAAMyG,GAG5B,OAFAA,EAAOG,KAAOH,EAAOG,MAAQ,EAEtB,CACHE,QAAS9G,EAAK8G,QACdC,WAAY,CACRC,KAAqB,GAAdP,EAAOG,KAAa5G,EAAKiH,gBAI5C,EACAC,OAAO,IAKnB,EAKJ,CA1C2B,CA0CxBjC,QCtCH/E,EAAEiH,UAAU,CACRC,QAAS,CACL,eAAgBlH,EAAE,2BAA2BoB,KAAK,cAG1DT,OAAOwE,IAAM,CAAC,EACdA,IAAIC,QAAU,CACVC,WAAYU,GAGhBZ,IAAIgC,YAAc,CAAC,EAKnBhC,IAAIgC,YAAYC,MAAQnD,EACxBkB,IAAIgC,YAAYjB,YAAcL,EAC9BV,IAAIgC,YAAYE,SAAWlB,C,cCtBvBmB,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CAGAJ,EAAoBO,EAAID,EfzBpBhJ,EAAW,GACf0I,EAAoBQ,EAAI,CAACC,EAAQC,EAAUC,EAAIC,KAC9C,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIzJ,EAAS0J,OAAQD,IAAK,CAGzC,IAFA,IAAKL,EAAUC,EAAIC,GAAYtJ,EAASyJ,GACpCE,GAAY,EACPC,EAAI,EAAGA,EAAIR,EAASM,OAAQE,MACpB,EAAXN,GAAsBC,GAAgBD,IAAaO,OAAOC,KAAKpB,EAAoBQ,GAAGa,OAAOrI,GAASgH,EAAoBQ,EAAExH,GAAK0H,EAASQ,MAC9IR,EAASY,OAAOJ,IAAK,IAErBD,GAAY,EACTL,EAAWC,IAAcA,EAAeD,IAG7C,GAAGK,EAAW,CACb3J,EAASgK,OAAOP,IAAK,GACrB,IAAIQ,EAAIZ,SACER,IAANoB,IAAiBd,EAASc,EAC/B,CACD,CACA,OAAOd,CAnBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIzJ,EAAS0J,OAAQD,EAAI,GAAKzJ,EAASyJ,EAAI,GAAG,GAAKH,EAAUG,IAAKzJ,EAASyJ,GAAKzJ,EAASyJ,EAAI,GACrGzJ,EAASyJ,GAAK,CAACL,EAAUC,EAAIC,EAqBjB,EgB1BdZ,EAAoBwB,EAAI,CAACC,EAAK5G,IAAUsG,OAAOO,UAAUrI,eAAesI,KAAKF,EAAK5G,G,MCKlF,IAAI+G,EAAkB,CACrB,IAAK,EACL,IAAK,GAaN5B,EAAoBQ,EAAEU,EAAKW,GAA0C,IAA7BD,EAAgBC,GAGxD,IAAIC,EAAuB,CAACC,EAA4BxJ,KACvD,IAGI0H,EAAU4B,GAHTnB,EAAUsB,EAAaC,GAAW1J,EAGhBwI,EAAI,EAC3B,GAAGL,EAASwB,MAAMC,GAAgC,IAAxBP,EAAgBO,KAAa,CACtD,IAAIlC,KAAY+B,EACZhC,EAAoBwB,EAAEQ,EAAa/B,KACrCD,EAAoBO,EAAEN,GAAY+B,EAAY/B,IAGhD,GAAGgC,EAAS,IAAIxB,EAASwB,EAAQjC,EAClC,CAEA,IADG+B,GAA4BA,EAA2BxJ,GACrDwI,EAAIL,EAASM,OAAQD,IACzBc,EAAUnB,EAASK,GAChBf,EAAoBwB,EAAEI,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO7B,EAAoBQ,EAAEC,EAAO,EAGjC2B,EAAqBC,KAAmB,aAAIA,KAAmB,cAAK,GACxED,EAAmBE,QAAQR,EAAqBS,KAAK,KAAM,IAC3DH,EAAmBI,KAAOV,EAAqBS,KAAK,KAAMH,EAAmBI,KAAKD,KAAKH,G,KC9CvFpC,EAAoBQ,OAAEL,EAAW,CAAC,MAAM,IAAOH,EAAoB,OACnE,IAAIyC,EAAsBzC,EAAoBQ,OAAEL,EAAW,CAAC,MAAM,IAAOH,EAAoB,OAC7FyC,EAAsBzC,EAAoBQ,EAAEiC,E","sources":["webpack:///webpack/runtime/chunk loaded","webpack:///./resources/js/app/selector.js","webpack:///./resources/js/page/admin/users/selector.js","webpack:///./resources/js/app/crud.js","webpack:///./resources/js/app/localisation.js","webpack:///./resources/js/app/delete-modal.js","webpack:///./resources/js/app/datatable.js","webpack:///./resources/js/page/admin/users/index.js","webpack:///./resources/js/page/admin/permissions/selector.js","webpack:///./resources/js/page/admin/permissions/events.js","webpack:///./resources/js/page/admin/permissions/index.js","webpack:///./resources/js/app/service.js","webpack:///./resources/js/page/admin/users/edit/selector.js","webpack:///./resources/js/page/admin/users/edit/index.js","webpack:///./resources/js/app.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","const gSelector = {\r\n    btn: {\r\n        edit: '.js_action_edit',\r\n        delete: '.js_action_delete',\r\n        modal: {\r\n            save: '.js_btn_modal_save',\r\n            confirm: '.js_btn_modal_confirm'\r\n        },\r\n        filter: {\r\n            reset: '#btn_filter_reset',\r\n        },\r\n    },\r\n    modal: {\r\n        delete: '#modal_delete',\r\n        edit: '#modal_edit',\r\n        deleteBs: '#modal_delete_bs',\r\n        errors: {\r\n            general: '.js_modal_general_error'\r\n        },\r\n        success: {\r\n            general: '.js_modal_general_success'\r\n        },\r\n        editFormFields: '#modal_edit_form_fields',\r\n\r\n    },\r\n}\r\n\r\nexport { gSelector };","const selector = {\r\n    btn: {\r\n        addPermission: \"#js_action_add_permission\",\r\n    },\r\n    ddl: {\r\n        users: \"#ddl-users\",\r\n    },\r\n    modal: {\r\n        addPermission: '#modal_assigne_permission',\r\n    },\r\n    table: \"#users-table\"\r\n}\r\n\r\nexport { selector };","const crud = {\r\n    update: function (url, data) {\r\n        data.append('_method', 'PUT');\r\n        return $.ajax({\r\n            url: url,\r\n            method: 'POST',\r\n            dataType: 'json',\r\n            processData: false,\r\n            contentType: false,\r\n            data: data,\r\n        });\r\n    },\r\n    \r\n    delete: function (url) {\r\n        return $.ajax({\r\n            url: url,\r\n            method: 'DELETE',\r\n            dataType: 'json',\r\n        });\r\n    },\r\n};\r\n\r\nexport { crud };","/**\r\n * app/localisation.js\r\n */\r\n\r\nfunction translate(key) {\r\n\r\n    let translations = {},\r\n        translation = key;\r\n\r\n    $.extend(translations, translations, window.translations);\r\n\r\n    if (translations.hasOwnProperty(key)) {\r\n        translation = translations[key];\r\n    }\r\n\r\n    return translation;\r\n}\r\n\r\nexport {translate};","import { crud } from \"./crud\";\r\nimport { gSelector } from \"./selector\";\r\nimport { translate } from \"./localisation\";\r\n\r\nconst deleteModal = function (e) {\r\n    e.preventDefault();\r\n    e.stopImmediatePropagation();\r\n\r\n    const $modal = $(gSelector.modal.delete).modal('show');\r\n    const url = $(e.target).closest('a').attr('href');\r\n\r\n    $modal.find(gSelector.modal.success.general).html(\"\").hide();\r\n    $modal.find(gSelector.modal.errors.general).html(\"\").hide();\r\n\r\n    $modal.find('.js_btn_modal_confirm').off('click').on('click', function (ev) {\r\n        crud.delete(url)\r\n            .done(function (response) {\r\n                $modal.find(gSelector.modal.success.general).html(response.message).show();\r\n                $modal.modal('hide');\r\n                window.location.reload();\r\n            })\r\n            .fail(function (response) {\r\n                let errorsHtml = '';\r\n                if (response.hasOwnProperty('responseJSON')) {\r\n                    if (response.responseJSON.hasOwnProperty('errors')) {\r\n                        let errors = response.responseJSON.errors;\r\n                        for (let prop in errors) {\r\n                            if (errors.hasOwnProperty(prop)) {\r\n                                errorsHtml += '<div>' + errors[prop] + '</div>';\r\n                            }\r\n                        }\r\n                    } else if (response.responseJSON.hasOwnProperty('message')) {\r\n                        errorsHtml = response.responseJSON.message;\r\n                    } else {\r\n                        errorsHtml = translate('error_general');\r\n                    }\r\n                } else {\r\n                    if ($.parseJSON(response.responseText)){\r\n                        errorsHtml = $.parseJSON(response.responseText).generalError;\r\n                    } else {\r\n                        errorsHtml = translate('error_general');\r\n                    }\r\n                }\r\n                $modal.find(gSelector.modal.errors.general).html(errorsHtml).show();\r\n            });\r\n    });\r\n}\r\n\r\nexport { deleteModal };","import {translate} from \"./localisation\";\r\n\r\nconst datatableTranslations = translate('datatable');\r\nconst datatableSettings = {\r\n    processing: true,\r\n    serverSide: true,\r\n    layout: {\r\n        topStart: null,\r\n        topEnd: null,\r\n    },\r\n    iDisplayLength: 50,\r\n    language: {\r\n        sEmptyTable: datatableTranslations['sEmptyTable'],\r\n        sInfo: datatableTranslations['sInfo'],\r\n        sInfoEmpty: datatableTranslations['sInfoEmpty'],\r\n        sInfoFiltered: datatableTranslations['sInfoFiltered'],\r\n        sInfoPostFix: datatableTranslations['sInfoPostFix'],\r\n        sInfoThousands: datatableTranslations['sInfoThousands'],\r\n        sLengthMenu: datatableTranslations['sLengthMenu'],\r\n        sLoadingRecords: datatableTranslations['sLoadingRecords'],\r\n        sProcessing: datatableTranslations['sProcessing'],\r\n        sSearch: datatableTranslations['sSearch'],\r\n        sZeroRecords: datatableTranslations['sZeroRecords'],\r\n        oPaginate: {\r\n            sFirst: datatableTranslations['sFirst'],\r\n            sLast: datatableTranslations['sLast'],\r\n            sNext: datatableTranslations['sNext'],\r\n            sPrevious: datatableTranslations['sPrevious'],\r\n        }\r\n    }\r\n}\r\n\r\nexport {datatableSettings};","import { gSelector } from \"../../../app/selector\";\r\nimport { selector } from './selector';\r\nimport * as deleteModal from \"../../../app/delete-modal\";\r\nimport {datatableSettings} from \"../../../app/datatable\";\r\n\r\n\r\nconst PageAdminUsers = (function ($) {\r\n\r\n    function initEvents() {\r\n        $(document).on('click', gSelector.btn.delete, deleteModal.deleteModal);\r\n\r\n        let settings = {\r\n            ajax: \"/api/users/data\",\r\n            columns: [{\r\n                    data: 'firstName',\r\n                    name: 'first_name',\r\n                    searchable: true,\r\n                    orderable: true\r\n                },\r\n                {\r\n                    data: 'lastName',\r\n                    name: 'last_name',\r\n                    searchable: true,\r\n                    orderable: true\r\n                },\r\n                {\r\n                    data: 'email',\r\n                    name: 'email',\r\n                    searchable: true,\r\n                    orderable: true\r\n                },\r\n                {\r\n                    data: 'createdAt',\r\n                    name: 'created_at',\r\n                    orderable: true\r\n                },\r\n                {\r\n                    data: 'id',\r\n                    name: 'actions',\r\n                    orderable: false,\r\n                    searchable: false,\r\n                    render: function(data, type, row) {\r\n                        return `\r\n                            <a href=\"/users/${data}/edit\" class=\"btn btn-sm btn-primary\"><i class=\"fa fa-edit\"> </i></a>\r\n                            <a href=\"/users/${data}\" class=\"btn btn-sm btn-danger js_action_delete\"><i class=\"fa fa-trash\"></i></a>\r\n                        `;\r\n                    }\r\n                },\r\n            ],\r\n        };\r\n\r\n        $(selector.table).DataTable($.extend({}, datatableSettings, settings));\r\n        console.log(window.translations);\r\n\r\n    }\r\n\r\n    function initialize() {\r\n\r\n        initEvents();\r\n    }\r\n\r\n    return {\r\n        init: initialize\r\n    }\r\n})(jQuery);\r\n\r\nexport { PageAdminUsers };","const selector = {\r\n    formFields: {\r\n        guardName: '#guard_name',\r\n    },\r\n}\r\n\r\nexport { selector };","import { crud } from \"../../../app/crud\";\r\nimport { gSelector } from \"../../../app/selector\";\r\nimport { translate } from \"../../../app/localisation\";\r\nimport { selector } from \"./selector\";\r\n\r\n\r\nconst editPermission = (e) => {\r\n    e.preventDefault();\r\n\r\n    const $modal = $(gSelector.modal.edit).modal('show');\r\n    const permissionId = $(e.target).data('id');\r\n\r\n    const url = $(e.target).attr('href');\r\n    $modal.find(gSelector.modal.success.general).html(\"\").hide();\r\n    $modal.find(gSelector.modal.errors.general).html(\"\").hide();\r\n    API.service.permission.getPermission(url).done(function (response) {\r\n\r\n        $modal.find(gSelector.modal.editFormFields).html(response.html)\r\n\r\n        $modal.find(gSelector.btn.modal.confirm).off('click').on('click', {\r\n            url: '/permissions/' + permissionId,\r\n            modal: $modal,\r\n        }, _updatePermission);\r\n\r\n    })\r\n\r\n}\r\n\r\nconst _updatePermission = (e) => {\r\n\r\n    let guardName = $(selector.formFields.guardName).val()\r\n\r\n    let $modal = e.data.modal;\r\n    let data = new FormData()\r\n    data.append('guard_name', guardName)\r\n\r\n    crud.update(e.data.url, data)\r\n        .done(function (response) {\r\n            $modal.find(gSelector.modal.success.general).html(response.message).show();\r\n            setTimeout(() => {\r\n                $modal.modal('hide');\r\n                window.location.reload();\r\n            }, 3000)\r\n        })\r\n        .fail((jqXHR) => {\r\n            const response = jqXHR.responseJSON\r\n            if (response.generalError) {\r\n                $modal.find(gSelector.modal.errors.general).html(response.generalError).show();\r\n            } else if (response.errors) {\r\n                let errors = response.errors;\r\n                for (let prop in errors) {\r\n                    if (errors.hasOwnProperty(prop)) {\r\n                        let htmlAfter = '<div class=\"alert-danger\">' + errors[prop] + '</div>';\r\n                        $modal.find(gSelector.modal.errors.general).html(htmlAfter).show();\r\n                    }\r\n                }\r\n            } else {\r\n                $modal.find(gSelector.modal.errors.general).html(translate('error_general')).show();\r\n            }\r\n        }\r\n        );\r\n}\r\n\r\nexport { editPermission };","import * as events from \"./events\";\r\nimport { gSelector } from \"../../../app/selector\";\r\nimport * as deleteModal from \"../../../app/delete-modal\";\r\n\r\nconst PageAdminPermissions = (function ($) {\r\n    \r\n    function initEvents() {\r\n        $(document).on('click', gSelector.btn.delete, deleteModal.deleteModal);\r\n        $(document).on('click', gSelector.btn.edit, events.editPermission);\r\n    }\r\n\r\n    function initialize() {\r\n        initEvents();\r\n    }\r\n\r\n    return {\r\n        init: initialize\r\n    }\r\n})(jQuery);\r\n\r\nexport {PageAdminPermissions};","const PermissionService = {\r\n\r\n    getPermission: function (url) {\r\n        return $.ajax({\r\n            async: true,\r\n            url: url,\r\n            method: 'GET',\r\n            error: function (response) {\r\n                // console.log('Ajax error');\r\n            }\r\n        });\r\n    },\r\n}\r\n\r\nexport { PermissionService };","const selector =  {\r\n    ddl: {\r\n        permissions: \"#ddl-permissions\",\r\n    },\r\n    formUrl: '#user-permissions-form',\r\n    userId: '#user-id',\r\n}\r\n\r\nexport { selector };","import { selector } from './selector';\r\n\r\nconst PageAdminEditUser = (function ($) {\r\n\r\n    function initEvents() {\r\n    }\r\n\r\n    function initialize() {\r\n        var userId = $(selector.userId).val()\r\n        var permissionsSelect = $(selector.ddl.permissions).select2({\r\n            ajax: {\r\n                url: `/api/users/${userId}/permissions`,\r\n                type: \"get\",\r\n                dataType: 'json',\r\n                delay: 250,\r\n                data: function (params) {\r\n                    var query = {\r\n                        search: params.term,\r\n                        page: params.page || 1\r\n                    }\r\n\r\n                    return query;\r\n                },\r\n                processResults: function (data, params) {\r\n                    params.page = params.page || 1;\r\n\r\n                    return {\r\n                        results: data.results,\r\n                        pagination: {\r\n                            more: (params.page * 10) < data.count_filtered\r\n                        }\r\n                    };\r\n\r\n                },\r\n                cache: true\r\n            }\r\n        });\r\n\r\n        initEvents();\r\n    }\r\n\r\n    return {\r\n        init: initialize\r\n    }\r\n})(jQuery);\r\n\r\nexport { PageAdminEditUser };","import { PageAdminUsers } from \"./page/admin/users\";\nimport { PageAdminPermissions } from \"./page/admin/permissions\";\nimport { PermissionService } from \"./app/service\";\nimport { PageAdminEditUser } from \"./page/admin/users/edit\";\n\n/*** General setup START ***/\n$.ajaxSetup({\n    headers: {\n        \"X-CSRF-TOKEN\": $('meta[name=\"csrf-token\"]').attr(\"content\"),\n    },\n});\nwindow.API = {};\nAPI.service = {\n    permission: PermissionService,\n  };\n\nAPI.pageManager = {};\n\n\n\n/*** Init pages controllers ***/\nAPI.pageManager.users = PageAdminUsers;\nAPI.pageManager.permissions = PageAdminPermissions;\nAPI.pageManager.userEdit = PageAdminEditUser;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t847: 0,\n\t252: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [252], () => (__webpack_require__(622)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [252], () => (__webpack_require__(205)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","gSelector","edit","delete","modal","save","confirm","filter","reset","deleteBs","errors","general","success","editFormFields","selector","crud","url","data","append","$","ajax","method","dataType","processData","contentType","translate","key","translations","translation","extend","window","hasOwnProperty","deleteModal","e","preventDefault","stopImmediatePropagation","$modal","target","closest","attr","find","html","hide","off","on","ev","done","response","message","show","location","reload","fail","errorsHtml","responseJSON","prop","parseJSON","responseText","generalError","datatableTranslations","datatableSettings","processing","serverSide","layout","topStart","topEnd","iDisplayLength","language","sEmptyTable","sInfo","sInfoEmpty","sInfoFiltered","sInfoPostFix","sInfoThousands","sLengthMenu","sLoadingRecords","sProcessing","sSearch","sZeroRecords","oPaginate","sFirst","sLast","sNext","sPrevious","PageAdminUsers","init","document","DataTable","columns","name","searchable","orderable","render","type","row","concat","console","log","jQuery","guardName","editPermission","permissionId","API","service","permission","getPermission","_updatePermission","val","FormData","setTimeout","jqXHR","htmlAfter","PageAdminPermissions","events","PermissionService","async","error","permissions","PageAdminEditUser","userId","select2","delay","params","search","term","page","processResults","results","pagination","more","count_filtered","cache","ajaxSetup","headers","pageManager","users","userEdit","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","splice","r","o","obj","prototype","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}